/*****************************************************************************/
/*  Copyright (C) 2019 Siemens Aktiengesellschaft. All rights reserved.      */
/*****************************************************************************/
/*  This program is protected by German copyright law and international      */
/*  treaties. The use of this software including but not limited to its      */
/*  Source Code is subject to restrictions as agreed in the license          */
/*  agreement between you and Siemens.                                       */
/*  Copying or distribution is not allowed unless expressly permitted        */
/*  according to your license agreement with Siemens.                        */
/*****************************************************************************/
/*                                                                           */
/*  P r o j e c t         &P: PROFINET IO Runtime Software              :P&  */
/*                                                                           */
/*  P a c k a g e         &W: PROFINET IO Runtime Software              :W&  */
/*                                                                           */
/*  C o m p o n e n t     &C: HIF (Host Interface)                      :C&  */
/*                                                                           */
/*  F i l e               &F: hif_ser_sockapp.c                         :F&  */
/*                                                                           */
/*  V e r s i o n         &V: BC_PNRUN_P07.01.00.00_00.02.00.15         :V&  */
/*                                                                           */
/*  D a t e  (YYYY-MM-DD) &D: 2019-08-05                                :D&  */
/*                                                                           */
/*****************************************************************************/
/*                                                                           */
/*  D e s c r i p t i o n :                                                  */
/*                                                                           */
/*  Automatically generated with HIF Code Generator v2.4.1                   */
/*                                                                           */
/*                                                                           */
/*  !!!ATTENTION: Do not edit this file.                                     */
/*                Please use the HIF Code Generator to generate this file.   */
/*                                                                           */
/*  The hash value was automatically calculated by HIF Code Generator!       */
/*  HASH-VALUE: fraevAPBFpH3aCNlBfhNOASGehhE33WcUZRK1QyEjQc=                 */
/*****************************************************************************/

#if defined(TOOL_CHAIN_MICROSOFT) /* Microsoft Visual C++ */
#pragma component(browser, off, references)
#endif

#define LTRC_ACT_MODUL_ID   118
#define HIF_MODULE_ID       LTRC_ACT_MODUL_ID

#include "hif_int.h"      

/// @cond PREVENT_DOXYGEN
HIF_FILE_SYSTEM_EXTENSION(HIF_MODULE_ID)

/// @endcond
#if ( (HIF_CFG_COMPILE_SERIALIZATION == 1) && (HIF_CFG_USE_SOCKAPP == 1) )


//lint -save -e506
// Warning 506: Constant value Boolean; It is expected that these issues are optimized while compilation of source code.
//lint -save -e774
// Warning 774: If always evaluates to True; It is expected that these issues are optimized while compilation of source code.

/* Prototypes */


/* Helper Functions */

/**
* \brief Function serializes the RQB to the HIF shared memory according to the component ID and OP-code in the RQB. 
*
* @param [in] hSysDev           - system handle 
* @param [in] pHifPipeHandle    - pipe handle
* @param [in] hShmPool          - pool handle for the transfer memory
* @param [in] pRqbSrc           - pointer to the RQB that is serialized
* @param [out] ppRqbDest        - pointer to the serialized RQB in the HIF transfer memory
* @param [out] pSerRqbLen       - total length of the serialized RQB in the transfer memory
*
* @return HIF_OK                - success
* @return HIF_ERR_RESOURCE      - Not enough memory available in the transfer memory
*/
LSA_UINT16  hif_sockapp_serialize_upper (
    HIF_SYS_HANDLE hSysDev,
    LSA_VOID*      pHifPipeHandle,
    LSA_INT        hShmPool,
    LSA_VOID*      pRqbSrc,
    LSA_VOID**     ppRqbDest,
    LSA_UINT32*    pSerRqbLen )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_OPCODE_TYPE opcode;
    SOCKAPP_RQB_TYPE* ptr_rqb_src = (SOCKAPP_RQB_TYPE*)pRqbSrc;
    LSA_VOID** ptr_ptr_rqb_dest = ppRqbDest;
    LSA_UINT32 i=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src)); /*#5*/
    opcode=HIF_RQB_GET_OPCODE(ptr_rqb_src);

    if (opcode==SOCKAPP_OPC_OPEN_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_SYS_PATH_TYPE();        /* sys_path */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_SYS_PATH_HTSHM((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.sys_path);                /* sys_path */
    }
    else if (opcode==SOCKAPP_OPC_CLOSE_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
    }
    else if (opcode==SOCKAPP_OPC_CREATE_SOCKET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* role */
        rqb_size+=HIF_SER_SIZEOF(2);        /* channelSelector */
        rqb_size+=HIF_SER_SIZEOF(2);        /* maxClients */
        rqb_size+=HIF_SER_SIZEOF(2);        /* recBufferSize */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sendBufferSize */
        rqb_size+=HIF_SER_SIZEOF(2);        /* recBufferSize */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sendBufferSize */
        rqb_size+=HIF_SER_SIZEOF(2);        /* maxClients */
        rqb_size+=HIF_SER_SIZEOF(2);        /* recBufferSize */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sendBufferSize */
        rqb_size+=HIF_SER_SIZEOF(2);        /* recBufferSize */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sendBufferSize */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.role);                /* role */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.channelSelector);                /* channelSelector */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.tcp_server.maxClients);                /* maxClients */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.tcp_server.recBufferSize);                /* recBufferSize */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.tcp_server.sendBufferSize);                /* sendBufferSize */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.tcp_client.recBufferSize);                /* recBufferSize */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.tcp_client.sendBufferSize);                /* sendBufferSize */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.udp_server.maxClients);                /* maxClients */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.udp_server.recBufferSize);                /* recBufferSize */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.udp_server.sendBufferSize);                /* sendBufferSize */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.udp_client.recBufferSize);                /* recBufferSize */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.udp_client.sendBufferSize);                /* sendBufferSize */
    }
    else if (opcode==SOCKAPP_OPC_DELETE_SOCKET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.d_lete.instanceHandle);                /* instanceHandle */
    }
    else if (opcode==SOCKAPP_OPC_OPEN_SOCKET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        rqb_size+=HIF_SER_SIZEOF(1);        /* use_dedicated_ip_addr */
        rqb_size+=HIF_SER_SIZEOF(1);        /* use_clusterIP */
        rqb_size+=HIF_SER_SIZEOF(2);        /* InterfaceID */
        rqb_size+=HIF_SER_SIZEOF(2);        /* loc_port */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sin_family */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sin_port */
        rqb_size+=HIF_SER_SIZEOF(4);        /* s_addr */
        rqb_size+=(HIF_SER_SIZEOF(1) * 8);        /* sin_zero */
        rqb_size+=HIF_SER_SIZEOF(2);        /* loc_port */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sin_family */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sin_port */
        rqb_size+=HIF_SER_SIZEOF(4);        /* s_addr */
        rqb_size+=(HIF_SER_SIZEOF(1) * 8);        /* sin_zero */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.instanceHandle);                /* instanceHandle */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.use_dedicated_ip_addr);                /* use_dedicated_ip_addr */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.use_clusterIP);                /* use_clusterIP */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.InterfaceID);                /* InterfaceID */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.tcp_server.loc_port);                /* loc_port */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.tcp_client.remote_addr.sin_family);                /* sin_family */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.tcp_client.remote_addr.sin_port);                /* sin_port */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.tcp_client.remote_addr.sin_addr.s_addr);                /* s_addr */
        for(i=0;i<8;i++)                        /* remote_addr*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.tcp_client.remote_addr.sin_zero[i]);                /* sin_zero */
        }
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.udp_server.loc_port);                /* loc_port */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.udp_client.remote_addr.sin_family);                /* sin_family */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.udp_client.remote_addr.sin_port);                /* sin_port */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.udp_client.remote_addr.sin_addr.s_addr);                /* s_addr */
        for(i=0;i<8;i++)                        /* remote_addr*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.open.udp_client.remote_addr.sin_zero[i]);                /* sin_zero */
        }
    }
    else if (opcode==SOCKAPP_OPC_CLOSE_SOCKET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.close.instanceHandle);                /* instanceHandle */
    }
    else if (opcode==SOCKAPP_OPC_SEND_LIST)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        rqb_size+=HIF_SER_SIZEOF(2);        /* bufferCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* bufferArray pointer */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.send.bufferArray))
        {
            for(i=0;i<ptr_rqb_src->args.send.bufferCount;i++)            /* bufferArray*/
            {
                rqb_size+=HIF_SER_SIZEOF(4);                /* pattern */
                rqb_size+=HIF_SER_SIZEOF(2);                /* Count */
            }
        }
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        /* INFO: serialize the array size right after the pointer */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.send.bufferCount);                /* bufferCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.send.instanceHandle);                /* instanceHandle */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.send.bufferArray);        /* pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.send.bufferArray /*#10*/))
        {
            for(i=0;i<ptr_rqb_src->args.send.bufferCount;i++)                                                /* bufferArray*/
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.send.bufferArray[i].pattern);                                /* pattern */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.send.bufferArray[i].Count);                                /* Count */
            }
        }
    }
    else if (opcode==SOCKAPP_OPC_START_CYCLIC_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sendMode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sendCycle */
        rqb_size+=HIF_SER_SIZEOF(1);        /* bufferCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* bufferSizes pointer */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.start_cyclic.bufferSizes))
        {
            for(i=0;i<ptr_rqb_src->args.start_cyclic.bufferCount;i++)            /* bufferSizes*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* byteCount */
            }
        }
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        /* INFO: serialize the array size right after the pointer */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.start_cyclic.bufferCount);                /* bufferCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.start_cyclic.instanceHandle);                /* instanceHandle */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.start_cyclic.sendMode);                /* sendMode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.start_cyclic.sendCycle);                /* sendCycle */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.start_cyclic.bufferSizes);        /* pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.start_cyclic.bufferSizes /*#10*/))
        {
            for(i=0;i<ptr_rqb_src->args.start_cyclic.bufferCount;i++)                                                /* bufferSizes*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.start_cyclic.bufferSizes[i].byteCount);                                /* byteCount */
            }
        }
    }
    else if (opcode==SOCKAPP_OPC_STOP_CYCLIC_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.stop_cyclic.instanceHandle);                /* instanceHandle */
    }
    else if (opcode==SOCKAPP_OPC_CONNECTION_IND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.connection.instanceHandle);                /* instanceHandle */
    }
    else if (opcode==SOCKAPP_OPC_ADDR_INFO_IND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* channelSelector */
        for(i=0;i<SOCKAPP_CFG_MAX_INTERFACE_CNT;i++)        /* AddrInfo*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* InterfaceID */
            rqb_size+=HIF_SER_SIZEOF(2);            /* Length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF_BUF(ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length);            /* size of: pName */
            }
            rqb_size+=HIF_SER_SIZEOF(1);            /* Remanent */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(1);            /* CurrentIPSuiteIsEmergency */
            rqb_size+=HIF_SER_SIZEOF(1);            /* CurrentIPSuiteConflictDetected */
        }
        rqb_size+=HIF_SER_SIZEOF(1);        /* InterfacesCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* InterfacesChanged */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.channelSelector);                /* channelSelector */
        for(i=0;i<SOCKAPP_CFG_MAX_INTERFACE_CNT;i++)                                /* AddrInfo*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].InterfaceID);                        /* InterfaceID */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length);                        /* Length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName);            /* pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUFFER(&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length, hSysDev);            /* pName */
            }
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Remanent);                        /* Remanent */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuite.IpAddr.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuite.NetMask.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].ExpectedIPSuite.IpAddr.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].ExpectedIPSuite.NetMask.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].EmergencyIPSuite.IpAddr.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].EmergencyIPSuite.NetMask.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuiteIsEmergency);                        /* CurrentIPSuiteIsEmergency */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuiteConflictDetected);                        /* CurrentIPSuiteConflictDetected */
        }
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.InterfacesCount);                /* InterfacesCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.InterfacesChanged);                /* InterfacesChanged */
    }
    else if (opcode==SOCKAPP_OPC_CLUSTER_IP_IND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* channelSelector */
        rqb_size+=HIF_SER_SIZEOF(4);        /* InterfaceID */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ClusterID */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ClusterIPState */
        rqb_size+=HIF_SER_SIZEOF(4);        /* s_addr */
        rqb_size+=HIF_SER_SIZEOF(4);        /* s_addr */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ClusterIPConflict */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.channelSelector);                /* channelSelector */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.InterfaceID);                /* InterfaceID */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.ClusterID);                /* ClusterID */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.ClusterIPState);                /* ClusterIPState */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.ClusterIPAddress.s_addr);                /* s_addr */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.ClusterSubnetMask.s_addr);                /* s_addr */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.ClusterIPConflict);                /* ClusterIPConflict */
    }
    else if (opcode==SOCKAPP_OPC_CLUSTER_IP_STATE_SET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* channelSelector */
        rqb_size+=HIF_SER_SIZEOF(4);        /* InterfaceID */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ClusterIPState */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.setClusterIPState.channelSelector);                /* channelSelector */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.setClusterIPState.Cluster_ip_state.InterfaceID);                /* InterfaceID */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.setClusterIPState.Cluster_ip_state.ClusterIPState);                /* ClusterIPState */
    }
    else if (opcode==SOCKAPP_OPC_GET_STATISTICS)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.instanceHandle);                /* instanceHandle */
    }
    else
    {
        HIF_PROGRAM_TRACE_02(0,LSA_TRACE_LEVEL_FATAL,"hif_sockapp_serialize_upper(). RQB-Opcode:0x%x is not valid! pRQB(0x%08x)",opcode,ptr_rqb_src+4);
        HIF_FATAL(0);
    }

    *pSerRqbLen = rqb_size;

    HIF_ASSERT(HIF_IS_NOT_NULL(help_ptr)); /*#4*/

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_SERIALIZE(opcode, *ptr_ptr_rqb_dest, rqb_size, help_ptr, "hif_sockapp_serialize_upper");

    return HIF_OK;
}

/**
* \brief Function serializes the RQB to the HIF shared memory according to the component ID and OP-code in the RQB. 
*
* @param [in] hSysDev           - system handle 
* @param [in] pHifPipeHandle    - pipe handle
* @param [in] hShmPool          - pool handle for the transfer memory
* @param [in] pRqbSrc           - pointer to the RQB that is serialized
* @param [out] ppRqbDest        - pointer to the serialized RQB in the HIF transfer memory
* @param [out] pSerRqbLen       - total length of the serialized RQB in the transfer memory
*
* @return HIF_OK                - success
* @return HIF_ERR_RESOURCE      - Not enough memory available in the transfer memory
*/
LSA_UINT16  hif_sockapp_serialize_lower (
    HIF_SYS_HANDLE hSysDev,
    LSA_VOID*      pHifPipeHandle,
    LSA_INT        hShmPool,
    LSA_VOID*      pRqbSrc,
    LSA_VOID**     ppRqbDest,
    LSA_UINT32*    pSerRqbLen )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_OPCODE_TYPE opcode;
    SOCKAPP_RQB_TYPE* ptr_rqb_src = (SOCKAPP_RQB_TYPE*)pRqbSrc;
    LSA_VOID** ptr_ptr_rqb_dest = ppRqbDest;
    LSA_UINT16 freeRes;
    LSA_UINT32 i=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src)); /*#5*/
    opcode=HIF_RQB_GET_OPCODE(ptr_rqb_src);

    if (opcode==SOCKAPP_OPC_OPEN_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_CLOSE_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_CREATE_SOCKET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* instanceHandle */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.create.instanceHandle);                /* instanceHandle */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_DELETE_SOCKET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_OPEN_SOCKET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_CLOSE_SOCKET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_SEND_LIST)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.send.bufferArray)) /*#15*/
        {
            freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
            HIF_FREE_LOCAL_MEMORY(&freeRes, ptr_rqb_src->args.send.bufferArray, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_START_CYCLIC_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.start_cyclic.bufferSizes)) /*#15*/
        {
            freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
            HIF_FREE_LOCAL_MEMORY(&freeRes, ptr_rqb_src->args.start_cyclic.bufferSizes, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_STOP_CYCLIC_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_CONNECTION_IND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(2);        /* reason */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sin_family */
        rqb_size+=HIF_SER_SIZEOF(2);        /* sin_port */
        rqb_size+=HIF_SER_SIZEOF(4);        /* s_addr */
        rqb_size+=(HIF_SER_SIZEOF(1) * 8);        /* sin_zero */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.connection.reason);                /* reason */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.connection.remote_addr.sin_family);                /* sin_family */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.connection.remote_addr.sin_port);                /* sin_port */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.connection.remote_addr.sin_addr.s_addr);                /* s_addr */
        for(i=0;i<8;i++)                        /* remote_addr*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.connection.remote_addr.sin_zero[i]);                /* sin_zero */
        }

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_ADDR_INFO_IND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        for(i=0;i<SOCKAPP_CFG_MAX_INTERFACE_CNT;i++)        /* AddrInfo*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* InterfaceID */
            rqb_size+=HIF_SER_SIZEOF(2);            /* Length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF_BUF(ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length);            /* size of: pName */
            }
            rqb_size+=HIF_SER_SIZEOF(1);            /* Remanent */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* s_addr */
            rqb_size+=HIF_SER_SIZEOF(1);            /* CurrentIPSuiteIsEmergency */
            rqb_size+=HIF_SER_SIZEOF(1);            /* CurrentIPSuiteConflictDetected */
        }
        rqb_size+=HIF_SER_SIZEOF(1);        /* InterfacesCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* InterfacesChanged */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        for(i=0;i<SOCKAPP_CFG_MAX_INTERFACE_CNT;i++)                                /* AddrInfo*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].InterfaceID);                        /* InterfaceID */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length);                        /* Length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName);            /* pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUFFER(&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length, hSysDev);            /* pName */
            }
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Remanent);                        /* Remanent */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuite.IpAddr.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuite.NetMask.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].ExpectedIPSuite.IpAddr.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].ExpectedIPSuite.NetMask.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].EmergencyIPSuite.IpAddr.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].EmergencyIPSuite.NetMask.s_addr);                        /* s_addr */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuiteIsEmergency);                        /* CurrentIPSuiteIsEmergency */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuiteConflictDetected);                        /* CurrentIPSuiteConflictDetected */
        }
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.InterfacesCount);                /* InterfacesCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indADDRInfo.Addr_info_ind.InterfacesChanged);                /* InterfacesChanged */

        /* Delete lower RQB after lower serialization */
        for(i=0;i<SOCKAPP_CFG_MAX_INTERFACE_CNT;i++)        /* free pointer in array AddrInfo*/
        {
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName)) /*#13*/
            {
                freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
                HIF_FREE_LOCAL_MEMORY(&freeRes, ptr_rqb_src->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_BUFFER, hSysDev);
                if (freeRes != LSA_RET_OK)
                {
                    return HIF_ERR_RESOURCE;
                }
            }
        }
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_CLUSTER_IP_IND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* InterfaceID */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ClusterID */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ClusterIPState */
        rqb_size+=HIF_SER_SIZEOF(4);        /* s_addr */
        rqb_size+=HIF_SER_SIZEOF(4);        /* s_addr */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ClusterIPConflict */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.InterfaceID);                /* InterfaceID */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.ClusterID);                /* ClusterID */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.ClusterIPState);                /* ClusterIPState */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.ClusterIPAddress.s_addr);                /* s_addr */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.Info.ClusterSubnetMask.s_addr);                /* s_addr */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.indClusterIP.Cluster_ip_ind.ClusterIPConflict);                /* ClusterIPConflict */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_CLUSTER_IP_STATE_SET)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==SOCKAPP_OPC_GET_STATISTICS)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* sendCount */
        rqb_size+=HIF_SER_SIZEOF(8);        /* sentBytes */
        rqb_size+=HIF_SER_SIZEOF(4);        /* receiveCount */
        rqb_size+=HIF_SER_SIZEOF(8);        /* receivedBytes */
        rqb_size+=HIF_SER_SIZEOF(4);        /* resourceErrCount */
        rqb_size+=HIF_SER_SIZEOF(8);        /* activeTime */
        rqb_size+=HIF_SER_SIZEOF(8);        /* avgBytesSent */
        rqb_size+=HIF_SER_SIZEOF(8);        /* avgBytesReceived */
        rqb_size+=HIF_SER_SIZEOF(4);        /* indAddrInfoCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* indClusterIPCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* mirroredCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* maxConnections */
        rqb_size+=HIF_SER_SIZEOF(4);        /* connectCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* disconnectCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* declineCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* overLoadCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* consumedCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* consumedWithError */
        rqb_size+=HIF_SER_SIZEOF(4);        /* missedCycles */
        rqb_size+=HIF_SER_SIZEOF(4);        /* minResponseTime */
        rqb_size+=HIF_SER_SIZEOF(4);        /* maxResponseTime */
        rqb_size+=HIF_SER_SIZEOF(4);        /* avgResponseTime */
        rqb_size+=HIF_SER_SIZEOF(4);        /* disconnectCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* mirroredCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* overLoadCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* consumedCount */
        rqb_size+=HIF_SER_SIZEOF(4);        /* consumedWithError */
        rqb_size+=HIF_SER_SIZEOF(4);        /* missedCycles */
        rqb_size+=HIF_SER_SIZEOF(4);        /* minResponseTime */
        rqb_size+=HIF_SER_SIZEOF(4);        /* maxResponseTime */
        rqb_size+=HIF_SER_SIZEOF(4);        /* avgResponseTime */
        help_ptr = hif_mem_ring_pool_alloc(rqb_size, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.sendCount);                /* sendCount */
        HIF_SER_COPY_HTSHM_64((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.sentBytes);                /* sentBytes */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.receiveCount);                /* receiveCount */
        HIF_SER_COPY_HTSHM_64((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.receivedBytes);                /* receivedBytes */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.resourceErrCount);                /* resourceErrCount */
        HIF_SER_COPY_HTSHM_64((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.activeTime);                /* activeTime */
        HIF_SER_COPY_HTSHM_64((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.avgBytesSent);                /* avgBytesSent */
        HIF_SER_COPY_HTSHM_64((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.avgBytesReceived);                /* avgBytesReceived */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.indAddrInfoCount);                /* indAddrInfoCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.indClusterIPCount);                /* indClusterIPCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_server.mirroredCount);                /* mirroredCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_server.maxConnections);                /* maxConnections */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_server.connectCount);                /* connectCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_server.disconnectCount);                /* disconnectCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_server.declineCount);                /* declineCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_server.overLoadCount);                /* overLoadCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_client.consumedCount);                /* consumedCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_client.consumedWithError);                /* consumedWithError */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_client.missedCycles);                /* missedCycles */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_client.minResponseTime);                /* minResponseTime */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_client.maxResponseTime);                /* maxResponseTime */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_client.avgResponseTime);                /* avgResponseTime */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.tcp_client.disconnectCount);                /* disconnectCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.udp_server.mirroredCount);                /* mirroredCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.udp_server.overLoadCount);                /* overLoadCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.udp_client.consumedCount);                /* consumedCount */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.udp_client.consumedWithError);                /* consumedWithError */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.udp_client.missedCycles);                /* missedCycles */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.udp_client.minResponseTime);                /* minResponseTime */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.udp_client.maxResponseTime);                /* maxResponseTime */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.statistics.udp_client.avgResponseTime);                /* avgResponseTime */

        /* Delete lower RQB after lower serialization */
        freeRes = LSA_RET_ERR_RESOURCE; /* preset negative */
        HIF_FREE_LOCAL_MEMORY(&freeRes, (LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_02(0,LSA_TRACE_LEVEL_FATAL,"hif_sockapp_serialize_lower(). RQB-Opcode:0x%x is not valid! pRQB(0x%08x)",opcode,ptr_rqb_src+4);
        HIF_FATAL(0);
    }

    *pSerRqbLen = rqb_size;

    HIF_ASSERT(HIF_IS_NOT_NULL(help_ptr)); /*#4*/

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_SERIALIZE(opcode, *ptr_ptr_rqb_dest, rqb_size, help_ptr, "hif_sockapp_serialize_lower");

    return HIF_OK;
}

/**
* \brief De-serializes the RQB from the HIF shared memory into the hosts local memory - according to the component ID and OP-code in the RQB.
*
* @param [in] hSysDev           - system handle 
* @param [in] pHifPipeHandle    - pipe handle
* @param [in] pRqbSrc           - pointer to the serialized RQB in the transfer memory
* @param [out] ppRqbDest        - pointer to the RQB deserialized in the hosts local memory
*
* @return HIF_OK                - success
* @return HIF_ERR_RESOURCE      - Not enough local memory
*/
LSA_UINT16      hif_sockapp_deserialize_upper (
        HIF_SYS_HANDLE hSysDev,
        LSA_VOID* pHifPipeHandle,
        LSA_VOID* pRqbSrc,
        LSA_VOID** ppRqbDest )
{
    LSA_UINT8* help_ptr;
    SOCKAPP_RQB_TYPE* new_rqb;
    LSA_OPCODE_TYPE opcode;
    LSA_VOID* ptr_rqb_src = (LSA_VOID*)pRqbSrc;
    SOCKAPP_RQB_TYPE** ptr_ptr_rqb_dest = (SOCKAPP_RQB_TYPE**)ppRqbDest;
    LSA_RESPONSE_TYPE response = 0;
    LSA_UINT32 i=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_ptr_rqb_dest)); /*#17*/
    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src));

    HIF_DESER_GET_OPCODE(ptr_rqb_src, opcode);

    help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);  /* start deserialization after the original upper RQB pointer */

    new_rqb = (SOCKAPP_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
    HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);

    if (opcode==SOCKAPP_OPC_OPEN_CHANNEL)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_CLOSE_CHANNEL)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_CREATE_SOCKET)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.create.instanceHandle,(LSA_UINT32**)&help_ptr);        /* instanceHandle */
    }
    else if (opcode==SOCKAPP_OPC_DELETE_SOCKET)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_OPEN_SOCKET)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_CLOSE_SOCKET)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_SEND_LIST)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_START_CYCLIC_SEND)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_STOP_CYCLIC_SEND)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_CONNECTION_IND)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
        HIF_SER_COPY_SHMTH_16(&new_rqb->args.connection.reason,(LSA_UINT32**)&help_ptr);        /* reason */
        HIF_SER_COPY_SHMTH_16(&new_rqb->args.connection.remote_addr.sin_family,(LSA_UINT32**)&help_ptr);        /* sin_family */
        HIF_SER_COPY_SHMTH_16(&new_rqb->args.connection.remote_addr.sin_port,(LSA_UINT32**)&help_ptr);        /* sin_port */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.connection.remote_addr.sin_addr.s_addr,(LSA_UINT32**)&help_ptr);        /* s_addr */
        for(i=0;i<8;i++)                        /* sin_zero*/
        {
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.connection.remote_addr.sin_zero[i],(LSA_UINT32**)&help_ptr);        /* sin_zero */
        }
    }
    else if (opcode==SOCKAPP_OPC_ADDR_INFO_IND)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
        for(i=0;i<SOCKAPP_CFG_MAX_INTERFACE_CNT;i++)                        /* AddrInfo*/
        {
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].InterfaceID,(LSA_UINT32**)&help_ptr);            /* InterfaceID */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length,(LSA_UINT32**)&help_ptr);            /* Length */
            if (HIF_IS_NOT_NULL_U32_REF_BY_PTR(help_ptr) && new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length > 0 ) /*#22d*/
            {
                help_ptr+=HIF_SER_SIZEOF(4); /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF(new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName,&help_ptr,new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length);            /* pName */
                }
            }
            else
            {
                help_ptr+=HIF_SER_SIZEOF(4);          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Remanent,(LSA_UINT32**)&help_ptr);            /* Remanent */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuite.IpAddr.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuite.NetMask.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].ExpectedIPSuite.IpAddr.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].ExpectedIPSuite.NetMask.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].EmergencyIPSuite.IpAddr.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].EmergencyIPSuite.NetMask.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuiteIsEmergency,(LSA_UINT32**)&help_ptr);            /* CurrentIPSuiteIsEmergency */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuiteConflictDetected,(LSA_UINT32**)&help_ptr);            /* CurrentIPSuiteConflictDetected */
        }
        HIF_SER_COPY_SHMTH_8(&new_rqb->args.indADDRInfo.Addr_info_ind.InterfacesCount,(LSA_UINT32**)&help_ptr);        /* InterfacesCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.InterfacesChanged,(LSA_UINT32**)&help_ptr);        /* InterfacesChanged */
    }
    else if (opcode==SOCKAPP_OPC_CLUSTER_IP_IND)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.InterfaceID,(LSA_UINT32**)&help_ptr);        /* InterfaceID */
        HIF_SER_COPY_SHMTH_8(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.ClusterID,(LSA_UINT32**)&help_ptr);        /* ClusterID */
        HIF_SER_COPY_SHMTH_8(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.ClusterIPState,(LSA_UINT32**)&help_ptr);        /* ClusterIPState */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.ClusterIPAddress.s_addr,(LSA_UINT32**)&help_ptr);        /* s_addr */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.ClusterSubnetMask.s_addr,(LSA_UINT32**)&help_ptr);        /* s_addr */
        HIF_SER_COPY_SHMTH_8(&new_rqb->args.indClusterIP.Cluster_ip_ind.ClusterIPConflict,(LSA_UINT32**)&help_ptr);        /* ClusterIPConflict */
    }
    else if (opcode==SOCKAPP_OPC_CLUSTER_IP_STATE_SET)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
    }
    else if (opcode==SOCKAPP_OPC_GET_STATISTICS)
    {

        /* restore the Upper RQB */
        HIF_RQB_SET_OPCODE(new_rqb,opcode);                /* _opcode */
        help_ptr+=4;                /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
        HIF_RQB_SET_RESPONSE(new_rqb,response);                                /* _response */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.sendCount,(LSA_UINT32**)&help_ptr);        /* sendCount */
        HIF_SER_COPY_SHMTH_64(&new_rqb->args.statistics.sentBytes,(LSA_UINT32**)&help_ptr);        /* sentBytes */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.receiveCount,(LSA_UINT32**)&help_ptr);        /* receiveCount */
        HIF_SER_COPY_SHMTH_64(&new_rqb->args.statistics.receivedBytes,(LSA_UINT32**)&help_ptr);        /* receivedBytes */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.resourceErrCount,(LSA_UINT32**)&help_ptr);        /* resourceErrCount */
        HIF_SER_COPY_SHMTH_64(&new_rqb->args.statistics.activeTime,(LSA_UINT32**)&help_ptr);        /* activeTime */
        HIF_SER_COPY_SHMTH_64(&new_rqb->args.statistics.avgBytesSent,(LSA_UINT32**)&help_ptr);        /* avgBytesSent */
        HIF_SER_COPY_SHMTH_64(&new_rqb->args.statistics.avgBytesReceived,(LSA_UINT32**)&help_ptr);        /* avgBytesReceived */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.indAddrInfoCount,(LSA_UINT32**)&help_ptr);        /* indAddrInfoCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.indClusterIPCount,(LSA_UINT32**)&help_ptr);        /* indClusterIPCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_server.mirroredCount,(LSA_UINT32**)&help_ptr);        /* mirroredCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_server.maxConnections,(LSA_UINT32**)&help_ptr);        /* maxConnections */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_server.connectCount,(LSA_UINT32**)&help_ptr);        /* connectCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_server.disconnectCount,(LSA_UINT32**)&help_ptr);        /* disconnectCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_server.declineCount,(LSA_UINT32**)&help_ptr);        /* declineCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_server.overLoadCount,(LSA_UINT32**)&help_ptr);        /* overLoadCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_client.consumedCount,(LSA_UINT32**)&help_ptr);        /* consumedCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_client.consumedWithError,(LSA_UINT32**)&help_ptr);        /* consumedWithError */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_client.missedCycles,(LSA_UINT32**)&help_ptr);        /* missedCycles */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_client.minResponseTime,(LSA_UINT32**)&help_ptr);        /* minResponseTime */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_client.maxResponseTime,(LSA_UINT32**)&help_ptr);        /* maxResponseTime */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_client.avgResponseTime,(LSA_UINT32**)&help_ptr);        /* avgResponseTime */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.tcp_client.disconnectCount,(LSA_UINT32**)&help_ptr);        /* disconnectCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.udp_server.mirroredCount,(LSA_UINT32**)&help_ptr);        /* mirroredCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.udp_server.overLoadCount,(LSA_UINT32**)&help_ptr);        /* overLoadCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.udp_client.consumedCount,(LSA_UINT32**)&help_ptr);        /* consumedCount */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.udp_client.consumedWithError,(LSA_UINT32**)&help_ptr);        /* consumedWithError */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.udp_client.missedCycles,(LSA_UINT32**)&help_ptr);        /* missedCycles */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.udp_client.minResponseTime,(LSA_UINT32**)&help_ptr);        /* minResponseTime */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.udp_client.maxResponseTime,(LSA_UINT32**)&help_ptr);        /* maxResponseTime */
        HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.udp_client.avgResponseTime,(LSA_UINT32**)&help_ptr);        /* avgResponseTime */
    }
    else
    {
        HIF_PROGRAM_TRACE_02(0,LSA_TRACE_LEVEL_FATAL,"hif_sockapp_deserialize_upper(). RQB-Opcode:0x%x is not valid! shm_addr(0x%08x)", opcode, ptr_rqb_src);
        HIF_FATAL(0);
    }
    *ptr_ptr_rqb_dest = new_rqb;

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_DESERIALIZE(ptr_rqb_src, opcode, help_ptr, "hif_sockapp_deserialize_upper");

    return HIF_OK;
}

/**
* \brief De-serializes the RQB from the HIF shared memory into the hosts local memory - according to the component ID and OP-code in the RQB.
*
* @param [in] hSysDev           - system handle 
* @param [in] pHifPipeHandle    - pipe handle
* @param [in] pRqbSrc           - pointer to the serialized RQB in the transfer memory
* @param [out] ppRqbDest        - pointer to the RQB deserialized in the hosts local memory
*
* @return HIF_OK                - success
* @return HIF_ERR_RESOURCE      - Not enough local memory
*/
LSA_UINT16      hif_sockapp_deserialize_lower (
        HIF_SYS_HANDLE hSysDev,
        LSA_VOID* pHifPipeHandle,
        LSA_VOID* pRqbSrc,
        LSA_VOID** ppRqbDest )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    SOCKAPP_RQB_TYPE* new_rqb  = LSA_NULL;
    LSA_OPCODE_TYPE opcode;
    LSA_VOID* ptr_rqb_src = (LSA_VOID*)pRqbSrc;
    SOCKAPP_RQB_TYPE** ptr_ptr_rqb_dest = (SOCKAPP_RQB_TYPE**)ppRqbDest;
    LSA_UINT32 rqb_size = 0;
    LSA_UINT32 i=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_ptr_rqb_dest)); /*#17*/
    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src));

    HIF_DESER_GET_OPCODE(ptr_rqb_src, opcode);

    if (opcode==SOCKAPP_OPC_OPEN_CHANNEL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_SYS_PATH_SHMTH(&new_rqb->args.channel.sys_path,(LSA_UINT32**)&help_ptr);            /* sys_path */
        }
    }
    else if (opcode==SOCKAPP_OPC_CLOSE_CHANNEL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
        }
    }
    else if (opcode==SOCKAPP_OPC_CREATE_SOCKET)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.role,(LSA_UINT32**)&help_ptr);            /* role */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.channelSelector,(LSA_UINT32**)&help_ptr);            /* channelSelector */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.tcp_server.maxClients,(LSA_UINT32**)&help_ptr);            /* maxClients */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.tcp_server.recBufferSize,(LSA_UINT32**)&help_ptr);            /* recBufferSize */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.tcp_server.sendBufferSize,(LSA_UINT32**)&help_ptr);            /* sendBufferSize */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.tcp_client.recBufferSize,(LSA_UINT32**)&help_ptr);            /* recBufferSize */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.tcp_client.sendBufferSize,(LSA_UINT32**)&help_ptr);            /* sendBufferSize */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.udp_server.maxClients,(LSA_UINT32**)&help_ptr);            /* maxClients */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.udp_server.recBufferSize,(LSA_UINT32**)&help_ptr);            /* recBufferSize */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.udp_server.sendBufferSize,(LSA_UINT32**)&help_ptr);            /* sendBufferSize */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.udp_client.recBufferSize,(LSA_UINT32**)&help_ptr);            /* recBufferSize */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.create.udp_client.sendBufferSize,(LSA_UINT32**)&help_ptr);            /* sendBufferSize */
        }
    }
    else if (opcode==SOCKAPP_OPC_DELETE_SOCKET)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.d_lete.instanceHandle,(LSA_UINT32**)&help_ptr);            /* instanceHandle */
        }
    }
    else if (opcode==SOCKAPP_OPC_OPEN_SOCKET)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.open.instanceHandle,(LSA_UINT32**)&help_ptr);            /* instanceHandle */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.open.use_dedicated_ip_addr,(LSA_UINT32**)&help_ptr);            /* use_dedicated_ip_addr */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.open.use_clusterIP,(LSA_UINT32**)&help_ptr);            /* use_clusterIP */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.open.InterfaceID,(LSA_UINT32**)&help_ptr);            /* InterfaceID */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.open.tcp_server.loc_port,(LSA_UINT32**)&help_ptr);            /* loc_port */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.open.tcp_client.remote_addr.sin_family,(LSA_UINT32**)&help_ptr);            /* sin_family */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.open.tcp_client.remote_addr.sin_port,(LSA_UINT32**)&help_ptr);            /* sin_port */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.open.tcp_client.remote_addr.sin_addr.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            for(i=0;i<8;i++)                                    /* sin_zero*/
            {
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.open.tcp_client.remote_addr.sin_zero[i],(LSA_UINT32**)&help_ptr);            /* sin_zero */
            }
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.open.udp_server.loc_port,(LSA_UINT32**)&help_ptr);            /* loc_port */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.open.udp_client.remote_addr.sin_family,(LSA_UINT32**)&help_ptr);            /* sin_family */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.open.udp_client.remote_addr.sin_port,(LSA_UINT32**)&help_ptr);            /* sin_port */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.open.udp_client.remote_addr.sin_addr.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            for(i=0;i<8;i++)                                    /* sin_zero*/
            {
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.open.udp_client.remote_addr.sin_zero[i],(LSA_UINT32**)&help_ptr);            /* sin_zero */
            }
        }
    }
    else if (opcode==SOCKAPP_OPC_CLOSE_SOCKET)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.close.instanceHandle,(LSA_UINT32**)&help_ptr);            /* instanceHandle */
        }
    }
    else if (opcode==SOCKAPP_OPC_SEND_LIST)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            /* INFO: deserialize the array size from right after the pointer */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.send.bufferCount,(LSA_UINT32**)&help_ptr);            /* bufferCount */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.send.instanceHandle,(LSA_UINT32**)&help_ptr);            /* instanceHandle */
            if (HIF_IS_NOT_NULL_U32_REF_BY_PTR(help_ptr))            /* => pointer "bufferArray" on shared-mem */ /*#20*/
            {
                /*lint --e(666) */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.send.bufferArray), new_rqb->args.send.bufferCount * sizeof(*new_rqb->args.send.bufferArray), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB );
                if (HIF_IS_NULL(new_rqb->args.send.bufferArray))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<new_rqb->args.send.bufferCount;i++)                                                /* bufferArray*/
                {
                    HIF_SER_COPY_SHMTH_32(&new_rqb->args.send.bufferArray[i].pattern,(LSA_UINT32**)&help_ptr);                    /* pattern */
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.send.bufferArray[i].Count,(LSA_UINT32**)&help_ptr);                    /* Count */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer pointer */
                new_rqb->args.send.bufferArray = LSA_NULL; /* set dynamic array pointer to NULL */
            }
        }
    }
    else if (opcode==SOCKAPP_OPC_START_CYCLIC_SEND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            /* INFO: deserialize the array size from right after the pointer */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.start_cyclic.bufferCount,(LSA_UINT32**)&help_ptr);            /* bufferCount */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.start_cyclic.instanceHandle,(LSA_UINT32**)&help_ptr);            /* instanceHandle */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.start_cyclic.sendMode,(LSA_UINT32**)&help_ptr);            /* sendMode */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.start_cyclic.sendCycle,(LSA_UINT32**)&help_ptr);            /* sendCycle */
            if (HIF_IS_NOT_NULL_U32_REF_BY_PTR(help_ptr))            /* => pointer "bufferSizes" on shared-mem */ /*#20*/
            {
                /*lint --e(666) */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.start_cyclic.bufferSizes), new_rqb->args.start_cyclic.bufferCount * sizeof(*new_rqb->args.start_cyclic.bufferSizes), LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB );
                if (HIF_IS_NULL(new_rqb->args.start_cyclic.bufferSizes))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<new_rqb->args.start_cyclic.bufferCount;i++)                                                /* bufferSizes*/
                {
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.start_cyclic.bufferSizes[i].byteCount,(LSA_UINT32**)&help_ptr);                    /* byteCount */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer pointer */
                new_rqb->args.start_cyclic.bufferSizes = LSA_NULL; /* set dynamic array pointer to NULL */
            }
        }
    }
    else if (opcode==SOCKAPP_OPC_STOP_CYCLIC_SEND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.stop_cyclic.instanceHandle,(LSA_UINT32**)&help_ptr);            /* instanceHandle */
        }
    }
    else if (opcode==SOCKAPP_OPC_CONNECTION_IND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.connection.instanceHandle,(LSA_UINT32**)&help_ptr);            /* instanceHandle */
        }
    }
    else if (opcode==SOCKAPP_OPC_ADDR_INFO_IND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.indADDRInfo.channelSelector,(LSA_UINT32**)&help_ptr);            /* channelSelector */
            for(i=0;i<SOCKAPP_CFG_MAX_INTERFACE_CNT;i++)                                    /* AddrInfo*/
            {
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].InterfaceID,(LSA_UINT32**)&help_ptr);                /* InterfaceID */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length,(LSA_UINT32**)&help_ptr);                /* Length */
                if (HIF_IS_NOT_NULL_U32_REF_BY_PTR(help_ptr) && new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length > 0 ) /*#22d*/
                {
                    help_ptr+=HIF_SER_SIZEOF(4); /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName,new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_BUFFER );
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF(new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName,&help_ptr,new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Length);                /* pName */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.pName = LSA_NULL; /* set data buffer pointer to NULL */
                    help_ptr+=HIF_SER_SIZEOF(4);          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].NoS.Remanent,(LSA_UINT32**)&help_ptr);                /* Remanent */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuite.IpAddr.s_addr,(LSA_UINT32**)&help_ptr);                /* s_addr */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuite.NetMask.s_addr,(LSA_UINT32**)&help_ptr);                /* s_addr */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].ExpectedIPSuite.IpAddr.s_addr,(LSA_UINT32**)&help_ptr);                /* s_addr */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].ExpectedIPSuite.NetMask.s_addr,(LSA_UINT32**)&help_ptr);                /* s_addr */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].EmergencyIPSuite.IpAddr.s_addr,(LSA_UINT32**)&help_ptr);                /* s_addr */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].EmergencyIPSuite.NetMask.s_addr,(LSA_UINT32**)&help_ptr);                /* s_addr */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuiteIsEmergency,(LSA_UINT32**)&help_ptr);                /* CurrentIPSuiteIsEmergency */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.indADDRInfo.Addr_info_ind.AddrInfo[i].CurrentIPSuiteConflictDetected,(LSA_UINT32**)&help_ptr);                /* CurrentIPSuiteConflictDetected */
            }
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.indADDRInfo.Addr_info_ind.InterfacesCount,(LSA_UINT32**)&help_ptr);            /* InterfacesCount */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indADDRInfo.Addr_info_ind.InterfacesChanged,(LSA_UINT32**)&help_ptr);            /* InterfacesChanged */
        }
    }
    else if (opcode==SOCKAPP_OPC_CLUSTER_IP_IND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.indClusterIP.channelSelector,(LSA_UINT32**)&help_ptr);            /* channelSelector */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.InterfaceID,(LSA_UINT32**)&help_ptr);            /* InterfaceID */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.ClusterID,(LSA_UINT32**)&help_ptr);            /* ClusterID */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.ClusterIPState,(LSA_UINT32**)&help_ptr);            /* ClusterIPState */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.ClusterIPAddress.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.indClusterIP.Cluster_ip_ind.Info.ClusterSubnetMask.s_addr,(LSA_UINT32**)&help_ptr);            /* s_addr */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.indClusterIP.Cluster_ip_ind.ClusterIPConflict,(LSA_UINT32**)&help_ptr);            /* ClusterIPConflict */
        }
    }
    else if (opcode==SOCKAPP_OPC_CLUSTER_IP_STATE_SET)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16(&new_rqb->args.setClusterIPState.channelSelector,(LSA_UINT32**)&help_ptr);            /* channelSelector */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.setClusterIPState.Cluster_ip_state.InterfaceID,(LSA_UINT32**)&help_ptr);            /* InterfaceID */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.setClusterIPState.Cluster_ip_state.ClusterIPState,(LSA_UINT32**)&help_ptr);            /* ClusterIPState */
        }
    }
    else if (opcode==SOCKAPP_OPC_GET_STATISTICS)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(SOCKAPP_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb, rqb_size, LSA_COMP_ID_SOCKAPP, HIF_MEM_TYPE_RQB);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_sockapp_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(SOCKAPP_RQB_TYPE*)HIF_CAST_TO_VOID_PTR((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(&new_rqb->args.statistics.instanceHandle,(LSA_UINT32**)&help_ptr);            /* instanceHandle */
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_02(0,LSA_TRACE_LEVEL_FATAL,"hif_sockapp_deserialize_lower(). RQB-Opcode:0x%x is not valid! shm_addr(0x%08x)", opcode, ptr_rqb_src);
        HIF_FATAL(0);
    }
    HIF_RQB_SET_COMP_ID(new_rqb, LSA_COMP_ID_SOCKAPP);            /* set comp id */
    *ptr_ptr_rqb_dest = new_rqb;

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_DESERIALIZE(ptr_rqb_src, opcode, help_ptr, "hif_sockapp_deserialize_lower");

    return HIF_OK;
}


//lint -restore -e506
//lint -restore -e774

#endif /* of HIF_CFG_USE_SOCKAPP */
#if defined(TOOL_CHAIN_MICROSOFT) /* Microsoft Visual C++ */
#pragma component(browser, on, references)
#endif
/*****************************************************************************/
/* End of File                                                               */
/*****************************************************************************/
